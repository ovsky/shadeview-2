"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_1=require("vscode"),Formatter_1=require("./Formatter"),Utilities_1=require("./Utilities");class ShaderlabDocumentFormatter{provideDocumentFormattingEdits(e,t,r){let o=vscode_1.workspace.getConfiguration();var i=null!=o.get("editorconfig.generateAuto");let a=vscode_1.window.activeTextEditor.options.insertSpaces;"string"!=typeof a&&i||(a=o.get("editor.insertSpaces"));let s=vscode_1.window.activeTextEditor.options.tabSize;"string"!=typeof s&&i||(s=o.get("editor.tabSize"));let n="\t";a&&0<s&&(n=Utilities_1.default.getRepeatText(" ",s));var l=o.get("formatting.style"),g=o.get("formatting.alignMacros"),c=o.get("formatting.tags.singleline"),i=!o.get("formatting.cbuffer");let d=new Formatter_1.default(n,s,l,g,c,i);return Promise.resolve([d.formatDocument(e)])}}exports.default=ShaderlabDocumentFormatter;